---
import ImageMod from "./ImageMod.astro";
import NextJS from "./icons/IconNextjs.astro";
import Tailwind from "./icons/IconTailwind.astro";
import Unity from "./icons/IconUnity.astro";
import Preact from "./icons/IconPreact.astro";
import Js from "./icons/IconJs.astro";
import Ts from "./icons/IconTs.astro";
import IconWeb from "./icons/IconWeb.astro";
import IconGithub from "./icons/IconGithub.astro";
import IconReact from "./icons/IconReact.astro";
import IconThreejs from "./icons/IconThreejs.astro";
import IconExcalibur from "./icons/IconExcalibur.astro";
import IconWarning from "./icons/IconWarning.astro";

const TAGS = {
  NEXT: {
    name: "Next.js",
    class: "bg-black text-white",
    icon: NextJS,
  },
  TAILWIND: {
    name: "Tailwind CSS",
    class: "bg-[#003159] text-white",
    icon: Tailwind,
  },
  PREACT: {
    name: "Preact",
    class: "bg-[#673AB8] text-white",
    icon: Preact,
  },
  UNITY: {
    name: "Unity",
    class: "bg-[#000000] text-white",
    icon: Unity,
  },
  JS: {
    name: "JavaScript",
    class: "bg-[#F7DF1E] text-black",
    icon: Js,
  },
  TS: {
    name: "TypeScript",
    class: "bg-[#007ACC] text-white",
    icon: Ts,
  },
  REACT: {
    name: "React",
    class: "bg-[#61DAFB] text-black",
    icon: IconReact,
  },
  THREEJS: {
    name: "Three.js",
    class: "bg-[#000000] text-white",
    icon: IconThreejs,
  },
  EXCALIBUR: {
    name: "Excalibur.js",
    class: "bg-[#000000] text-white",
    icon: IconExcalibur,
  },
  WARNING: {
    name: "WIP",
    class: "bg-[#ffce00] text-black",
    icon: IconWarning,
  },
};

const games = [
  {
    name: "Retro World Engine",
    blogUrl: "/blog/retro-world-engine",
    imageUrl: "/images/games/rpg-retro-world-engine.png",
    liveLink: "https://ts-rpg-game.vercel.app/",
    githubLink: "",
    technologies: [TAGS.TS, TAGS.PREACT, TAGS.TAILWIND, TAGS.WARNING],
  },
  {
    name: "DBZ: Legendary Super Warriors",
    blogUrl: "/blog/dbz-lsw-remake",
    imageUrl: "/images/games/dbz-legendary-super-warriors.png",
    liveLink: "https://dbz-lsw-remake.vercel.app/",
    githubLink: "",
    technologies: [TAGS.EXCALIBUR, TAGS.TS, TAGS.WARNING],
  },
  {
    name: "Action Puzzle Game with Next.js",
    blogUrl: "/blog/ciabatta-puzzle-game",
    imageUrl: "/images/games/action-puzzle-nextjs.png",
    liveLink: "https://youtu.be/link3",
    technologies: [TAGS.NEXT, TAGS.TS, TAGS.TAILWIND],
  },
  {
    name: "Multiplayer w/ Excaliburjs and Peer.js",
    blogUrl: "/blog/multiplayer-excaliburjs-peerjs",
    imageUrl: "/images/games/multiplayer-excaliburjs-peerjs.png",
    liveLink: "https://youtu.be/link4",
    technologies: [TAGS.EXCALIBUR, TAGS.TS],
  },
  {
    name: "Minecraft Clone",
    blogUrl: "/blog/minecraft-clone",
    imageUrl: "/images/games/minecraft-clone-react.png",
    githubLink: "https://github.com/manuelsanchezweb/minecraft-threejs-react",
    liveLink: "https://minecraft-threejs-react.vercel.app/",
    technologies: [TAGS.REACT, TAGS.THREEJS, TAGS.TS],
  },
  {
    name: "RPG Turn Based Pizza Legends",
    blogUrl: "/blog/rpg-turn-based-pizza-legends",
    imageUrl: "/images/games/rpg-pizza-legends.png",
    githubLink: "https://github.com/manuelsanchez2/pizzalegends",
    liveLink: "https://pizzalegends-rpg.netlify.app/",
    technologies: [TAGS.JS],
  },
  {
    name: "RPG Adventure with Unity",
    blogUrl: "/blog/rpg-adventure-game-unity",
    imageUrl: "/images/games/rpg-adventure-unity.png",
    githubLink: "",
    liveLink: "",
    technologies: [TAGS.UNITY, TAGS.WARNING],
  },
];
---

<section class="container mx-auto pt-2 pb-16">
  <div
    class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 max-w-5xl gap-6 mx-auto my-6"
  >
    {
      games.slice(0, 6).map((game, index) => (
        <div class="col-span-1 relative group">
          <div class="top-0 hover:-top-2 border rounded-xl border-black bg-white overflow-hidden">
            <a
              href={game.blogUrl}
              class="transition-all duration-75 ease-in-out h-full block squiggle"
            >
              <ImageMod
                class="border border-black opacity-70 group-hover:opacity-100 transition-all duration-75 ease-in-out aspect-video object-cover"
                src={game.imageUrl}
                alt={game.name}
                width={700}
                height={500}
              />
            </a>
            <div class="py-3 px-4">
              <h3 class="font-bold text-xl leading-tight dark:text-light">
                {game.name}
              </h3>
              <div class="text-xs  mt-4 flex items-center">
                <ul class="flex flex-wrap gap-2 flex-row mb-2">
                  {game.technologies.map((tag) => (
                    <li>
                      <span
                        class={`flex items-center gap-x-2 rounded-full text-xs ${tag.class} py-1 px-2 `}
                      >
                        <tag.icon class="size-4" />
                        {tag.name}
                      </span>
                    </li>
                  ))}
                </ul>
              </div>
            </div>
          </div>
          <header class="scale-0 group-hover:scale-100 transition-transform duration-300 gap-x-1 items-end justify-start mt-4 absolute top-2 right-2 z-10">
            {game.githubLink && (
              <a
                target="_blank"
                rel="noopener noreferrer"
                href={game.githubLink}
                class="bg-white border dark:border-white/10 border-gray-300 rounded-full inline-flex justify-center items-center gap-x-2 py-1 px-2 md:py-2 text-xs md:text-base transition hover:scale-110"
              >
                <IconGithub class="size-6" />
              </a>
            )}
            {game.liveLink && (
              <a
                target="_blank"
                rel="noopener noreferrer"
                href={game.liveLink}
                class="bg-white border dark:border-white/10 border-gray-300 rounded-full inline-flex justify-center items-center gap-x-2 py-1 px-2 md:py-2 text-xs md:text-base transition hover:scale-110"
              >
                <IconWeb class="size-6" />
              </a>
            )}
          </header>
        </div>
      ))
    }
  </div>
  <a
    href="/blog"
    class="text-center text-lg font-bold text-black dark:text-light w-full flex justify-center mt-12"
  >
    More Games
  </a>
</section>
